1. L√°ss√°tok el hosztnevekkel az eszk√∂z√∂ket!

en
conft
h (name)
-----------------------------------------
2. Hozz√°tok l√©tre az L2-es VLAN-okat a topol√≥gia szerint. El≈ësz√∂r jegyzeteljetek egy
sz√∂vegdobozban, elolvasva ezt a teljes feladatsort! A v√©gfelhaszn√°l√≥i csatlakoz√°shoz
haszn√°lt MLSW-ek is L2-ben dolgoznak.
a. Az 1-10 portok a ‚Äûkisebb‚Äù a 11-15 portok a ‚Äûnagyobb‚Äù VLAN-hoz
csatlakozzanak!
b. A tr√∂nkportok csak a k√©t VLAN-t engedj√©k √°t!

Vlan l√©trehoz√°s :
-p√©lda feladat   (sw1 ‚Äì mlsw1)
Hozz√°tok l√©tre az L2-es VLAN-okat a topol√≥gia szerint. A v√©gfelhaszn√°l√≥i csatlakoz√°shoz
haszn√°lt MLSW-ek is L2-ben dolgoznak.
a. Az 1-10 portok a ‚Äûkisebb‚Äù a 11-15 portok a ‚Äûnagyobb‚Äù VLAN-hoz csatlakozzanak!
Switch-ben √©s multilayer switchben egyar√°nt!
3.a
Switchben:

VLAN 10
NAME KISEBB
VLAN 20
NAME NAGYOBB
int range fa0/1-10
switchport mode access
switchport access vlan 10
int range fa0/11-15
switchport mode access
switchport access vlan 20

MultilayeSwitchben:

VLAN 10
NAME KISEBB
VLAN 20
NAME NAGYOBB
int range gig1/0/1-10
switchport access vlan 10
int range fa1/0/11-15
switchport mode access
switchport access vlan 20
-----------------------------------------
4.
A tr√∂nkportok csak a k√©t VLAN-t engedj√©k √°t!
A k√©t v√©gfelhaszn√°l√≥i SW-ben alak√≠tson ki ETHERCHANNELT LACP protokoll
seg√≠ts√©g√©vel! A portchannelt is tr√∂nk√∂lje!
(Azt amelyek √∂ssze vannak k√∂tve.)(pld: sw1: gig0/1-2 √∂ssze k√∂tve mlsw gig1/0/23-24)

(Switch)
3-b-4
INT range gig0/1-2
sw mode trunk
sw trunk allowed vlan 10,20   (megadott vlan)
channel-group 1 mode active    (az active router lesz a priority 120)
int port-channel 1
sw mode trunk
sw trunk allowed vlan10,20  (megadott vlan)

A router fel√© men≈ë portot is be kell trunkolni.
int fa0/24
sw mode trunk
sw trunk allowed vlan 10,20   (megadott vlan)

(Mlsw)
3.b-4
INT range gig1/0/23-24
sw mode trunk
sw trunk allowed vlan 10,20   (megadott vlan)
channel-group 1 mode passive  (az active router lesz a priority 110)
int port-channel 1
sw mode trunk
sw trunk allowed vlan10,20   (megadott vlan)

int gig1/0/20 
sw mode trunk
sw trunk allowed vlan 10,20   (megadott vlan)
--------------------------------------------------------------
5. (PPP) (Routerben) (MIND2 routerben be kell adni)
A k√©t router k√∂z√∂tti Serial kapcsolatban a 2-ik r√©tegbeli be√°gyaz√°s PPP legyen! A
hiteles√≠t√©s:CHAP jelsz√≥: cisco !

Router:
R2
R2(config)#username R2 PASsword CISCO  (megadott JELSZ√ì)     (username-nek mindig azt az eszk√∂z nev√©t kell megadni amelyikkel csatlakozik(pld R1-be irom a ppp akkor username R2 password cisco))
R2(config)#INTERface SE0/1/0   (megadott port)
R2(config-if)#ENCAPsulation PPp 
R2(config-if)#PPP AUThentication CHAp (CHAP-ET csak ha k√©ri)
R2(config-if)#IP ADD 10.10.10.2 255.255.255.252              (Megadott ip, irja a feladat melyik a kisebb √©s nagyobb)
--------------------------------------------------------
7. 
A routerekben val√≥s√≠tson meg‚Äù router on a stick‚Äù, teh√°t alinterf√©szes csatlakoz√°st a k√©t
VLAN alh√°l√≥zatnak! (mind2 routerbe de k√ºl√∂mb√∂zik)

Egyik router: Feladat irja, hogy melyiknek kell a 10-es √©s melyiknek a 11-est beadni.
Itt a p√©lda:(a. Az alinterf√©szek IP-c√≠mei: a SWITCH fel√© csatlakoz√≥ alinterf√©szek a 10.
VLAN c√≠met, az MLSW-ek fel√© csatlakoz√≥ a 11. IP-c√≠met kapj√°k.) 

R1(config)#int gig0/0/1  (Az a port amelyik switchbe vagy mlsw-be megy.)
R1(config-if)#no sh
R1(config-if)#int gig0/0/1.10
R1(config-subif)#encapsulation dot1Q 10  (megvan adva hogy 10 vayg 20 legyen vagy b√°rmi m√°s)
R1(config-subif)#ip add 192.168.10.10 255.255.255.128    (meg van adva hogy 10 vagy 11 legyne)( Az alinterf√©szek IP-c√≠mei: a SWITCH fel√© csatlakoz√≥ alinterf√©szek a 10.
VLAN c√≠met, az MLSW-ek fel√© csatlakoz√≥ a 11. IP-c√≠met kapj√°k.) )

R1(config-subif)#ex
R1(config)#int gig0/0/1.20
R1(config-subif)#no sh
R1(config-subif)#encapsulation dot1Q 20             (megvan adva hogy 10 vayg 20 legyen vagy b√°rmi m√°s(vlan cimnek is irhatja))
R1(config-subif)#ip add 192.168.20.10 255.255.255.192    (meg van adva hogy 10 vagy 11 legyne)( Az alinterf√©szek IP-c√≠mei: a SWITCH fel√© csatlakoz√≥ alinterf√©szek a 10.
VLAN c√≠met, az MLSW-ek fel√© csatlakoz√≥ a 11. IP-c√≠met kapj√°k.) )

M√°sik router:
P√©lda: m√°sik routerben ip add-nake  (192.168.10.10 ut√°n a 192.168.10.11-et kell megadni, vagyisa k√∂vetkez≈ë cimet)

Feladat irja, hogy melyiknek kell a 10-es √©s melyiknek a 11-est beadni.
Itt a p√©lda:(a. Az alinterf√©szek IP-c√≠mei: a SWITCH fel√© csatlakoz√≥ alinterf√©szek a 10.
VLAN c√≠met, az MLSW-ek fel√© csatlakoz√≥ a 11. IP-c√≠met kapj√°k.)

R2(config)#int gig0/0/1
R2(config-if)#no sh
R2(config-if)#int gig0/0/1.10
R2(config-subif)#encapsulation dot1Q 10                 (megvan adva hogy 10 vayg 20 legyen vagy b√°rmi m√°s)
R2(config-subif)#ip add 192.168.10.11 255.255.255.128    (11 mert a feladat azt irja hogy a mlsw fele a 11 legyne)
R2(config-subif)#ex
R2(config)#int gig0/0/1.20
R2(config-subif)#no sh
R2(config-subif)#encapsulation dot1Q 20                (megvan adva hogy 10 vayg 20 legyen vagy b√°rmi m√°s)
R2(config-subif)#ip add 192.168.20.11 255.255.255.192
 
-------------------------------------------------------------------
8. Val√≥s√≠tson meg OSPF forgalomir√°ny√≠t√°st 10-es azonos√≠t√≥val √©s 0-√°s
ter√ºletazonos√≠t√≥val
d. passziv√°lja a megfelel≈ë interf√©szeket!

(Minden routerbe kell)(forditot maszk 255-kivonom a megadott /30-at pld √©s igy lesz (/30, 255-252=3))

OSPF
(Mind2 routernek ugyan azt kell beadni csak a router-id k√ºl√∂mb√∂zz√∂n.)
R1 router ospf 10
router-id 1.1.1.1   (Az legyen az 1.1.1.1 amelyik a DR(Designated router )szerepet kapja)-(A routerekben k√ºl√∂mb√∂z√∂tt kell megadni)
R1(config-router)#network 192.168.10.0 0.0.0.127 area 0
R1(config-router)#network 192.168.20.0 0.0.0.63 area 0
R1(config-router)#network 10.10.10.0 0.0.0.3 area 0
R1(config-router)#network 172.16.16.0 0.0.0.3 area 0
R1(config-router)#passsive-interface gig0/0/1 (azt a portot ami a routerb≈ël a switchbe megy)
 


----------------------------------------------------------
9. DHCP kiszolg√°l√°s:
f. A kiszolg√°l√≥ legyen a SWICH-hez csatlakoz√≥ router
g. Mindk√©t VLAN-t szolg√°lja ki!
h. Alap√©rtelmezett √°tj√°r√≥: a VLAN-ok virtu√°lis IP-c√≠me
i. DNS-server: 8.8.8.8

fel9:(dhcp)  Dhcp-t abba a routerbe kell kiadni amit megad a feladat.

R1(config)#ip dhcp excluded-address 192.168.10.1 192.168.10.10       (az√©rt 10 mert a feladat ezt irta(Els≈ë 10 IP nem kiosztva/kioszhat√≥))
R1(config)#ip dhcp excluded-address 192.168.20.1 192.168.20.10
R1(config)#ip dhcp pool kisebb                           (Meg lesz adva mi a dhcp-k neve.(leg√≥het hogy ugyan az lesz mint a vlanok√© (ez√©rt kisebb √©s nagyobb)))
R1(dhcp-config)#network 192.168.10.0 255.255.255.128
R1(dhcp-config)#default-router 192.168.10.5      (Az√©rt 5 mert a sz√∂vegben az volt, hogy (HSRP VIRTU√ÅLIS IP 5.(hsrp virtu√°lis ip)))
R1(dhcp-config)#dns-server 8.8.8.8
R1(dhcp-config)#ip dhcp pool nagyobb
R1(dhcp-config)#network 192.168.20.0 255.255.255.192
R1(dhcp-config)#default-router 192.168.20.5           (Az√©rt 5 mert a sz√∂vegben az volt, hogy (HSRP VIRTU√ÅLIS IP 5.(hsrp virtu√°lis ip)))
R1(dhcp-config)#dns-server 8.8.8.8
R1(dhcp-config)#
-----------------------------------------------------------
10. A k√©t router helyettes√≠theti egym√°st:
j. A SWITCH fel√© csatlakoz√≥ legyen az akt√≠v. Gondoskodjon r√≥la, hogy minden
VLAN eset√©n m≈±k√∂dj√∂n a helyettes√≠t√©s! Az eml√≠tett router egy esetleges kies√©s
eset√©n k√©rje vissza az els≈ëdleges szerep√©t, ha √∫jra m≈±k√∂d≈ëk√©pes lesz!
k. Virtu√°lis IP c√≠mnek az 5. IP-c√≠met haszn√°lja!

(mind2 routeben meg kell adni)
HSRP (GIG0/0/1.20)
(.10 √©s .20 is mind2-re be kell)

Egyik router: (Active)

R2(config-router)#INT GIG0/0/1.10
R2(config-subif)#STandby 10(ah√°nyas vlan) ip 192.168.10(vlan sz√°ma).5
R2(config-subif)#standby 10(ah√°nyas vlan) priority 120           (az active router lesz a priority 110((az a standby)ezt a feladat elej√©n kellet beadni))
R2(config-subif)#standby 10(ah√°nyas vlan) preempt 
R2(config-subif)#ex

R1(config)#int gig0/0/1.20
R1(config-subif)#standby 20(ah√°nyas vlan) ip 192.168.20(vlan sz√°ma).5        (az active router lesz a priority 120 ((ez az active)ezt a feladat elej√©n kellet beadni))
R1(config-subif)#standby 20(ah√°nyas vlan) priority 120
R1(config-subif)#standby 20(ah√°nyas vlan) preempt          (A preempt-et abba a routerbe kell beirni amelyik az active lesz.(A m√°sik routerbe nem kell))


Standby / passive router


R1(config)#int gig0/0/1.10
R1(config-subif)#standby 10(ah√°nyas vlan) ip 192.168.10(vlan sz√°ma).5        (az active router lesz a priority 120 ((ez az active)ezt a feladat elej√©n kellet beadni))
R1(config-subif)#standby 10(ah√°nyas vlan) priority 110

R1(config)#int gig0/0/1.20
R1(config-subif)#standby 20(ah√°nyas vlan) ip 192.168.20(vlan sz√°ma).5        (az active router lesz a priority 120 ((ez az active)ezt a feladat elej√©n kellet beadni))
R1(config-subif)#standby 20(ah√°nyas vlan) priority 110
 


--------------------------------------------------------------
11. Portv√©delem: A tr√∂nk portokon k√≠v√ºl minden portra v√©gezze el:
a. k√©t(2!!!) MAC address-t enged√©lyezzen, valamint tov√°bbi behatol√°s eset√©n
regisztr√°lja, de ne kapcsolja le a portokat!

Portv√©delmet switchbe √©s multilayerbe is be kell adni.

SW1: FELADAT 11:   (HA van a topologi√°ban mind a routerben √©s multilayerswitchben megg kell csin√°lni.)vlan 70
Ezt mind switchben √©s multilayer switchben is.

SW1(config)#int range fa0/1-23                 vagy mlsw-ben  int range gig1/0/1-19,21-22,(int range gig 1/1/1-4)  (Azokat nem kell a range be rakni amelyek haszn√°lva vannak a swichek k√∂z√∂tt)
SW1(config-if-range)#switchport port-security 
SW1(config-if-range)#switchport port-security maximum 2  (az√©rt kett≈ë mert 2-≈ët k√©rt a feladat)
SW1(config-if-range)#switchport port-security violation restrict 



Show parancsok:

show run   ()
show vlan
show ip route (minden eszk√∂z√∂n)
show etherchannel (mind a k√©t eszk√∂z√∂n)
show etherchannel summary (mind a k√©t eszk√∂z√∂n)
show standby brief
show ip dhcp pool


Mask cheat sheet
https://www.aelius.com/njh/subnet_sheet.html



üìç C√≠mek √©s jelent√©seik
1. Address: 192.168.10.1
Ez az IP-c√≠m, amit az adott eszk√∂z (pl. sz√°m√≠t√≥g√©p, router) haszn√°l a h√°l√≥zaton bel√ºl.

Bin√°risan: 11000000.10101000.00001010.00000001

2. Netmask: 255.255.255.0 = /24
Ez a h√°l√≥zati maszk, amely meghat√°rozza, hogy az IP-c√≠m mely r√©sze a h√°l√≥zat √©s melyik a host (eszk√∂z) r√©sze.

/24 azt jelenti, hogy az els≈ë 24 bit a h√°l√≥zati r√©sz, teh√°t az utols√≥ 8 bit az egyes eszk√∂z√∂k azonos√≠t√°s√°ra szolg√°l.

Bin√°risan: 11111111.11111111.11111111.00000000

3. Wildcard: 0.0.0.255
Ez a netmask ellent√©te. Gyakran haszn√°lj√°k t≈±zfalakn√°l, hozz√°f√©r√©svez√©rl√©sn√©l.

Jelzi, hogy az utols√≥ 8 bit (1 byte) v√°ltozhat, azaz a hostc√≠mek ezen a r√©szen t√©rnek el egym√°st√≥l.

Bin√°risan: 00000000.00000000.00000000.11111111

üß© H√°l√≥zati inform√°ci√≥k
4. Network: 192.168.10.0/24
A h√°l√≥zat kezd≈ë c√≠me. Ezt nem lehet eszk√∂znek kiosztani.

Ez a c√≠m az √∂sszes, ehhez a h√°l√≥zathoz tartoz√≥ IP-c√≠m k√∂z√∂s nevez≈ëje.

Bin√°risan: 11000000.10101000.00001010.00000000

5. Broadcast: 192.168.10.255
Ez az a c√≠m, amelyre k√ºld√∂tt adatot minden eszk√∂z megkap a h√°l√≥zaton bel√ºl.

Az utols√≥ IP-c√≠m a tartom√°nyban, nem haszn√°lhat√≥ egyedi eszk√∂zre.

6. HostMin: 192.168.10.1
Ez az els≈ë IP-c√≠m, amely kioszthat√≥ egy eszk√∂znek a h√°l√≥zaton.

7. HostMax: 192.168.10.254
Ez az utols√≥ kioszthat√≥ IP-c√≠m a h√°l√≥zaton.

8. Hosts/Net: 254
√ñsszesen 254 eszk√∂z kaphat IP-c√≠met ebben a h√°l√≥zatban.

Kisz√°m√≠t√°s: 2^8 - 2 = 256 - 2 = 254
(a -2 a h√°l√≥zati √©s a broadcast c√≠m miatt van)

